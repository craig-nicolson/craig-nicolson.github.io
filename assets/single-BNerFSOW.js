import{r as f,c as v}from"./overlayControls-BYAzFYj-.js";/* empty css              */import{h,d as w,e as S,M as b,B as x}from"./color-1P8gJ9uY.js";const e={"ECG Trace Width":{value:4,type:"range",min:.5,max:16,step:.1,label:"Trace Width",section:"ECG Display"},"ECG Head Size":{value:10,type:"range",min:2,max:28,step:.5,label:"Head Dot Size",section:"ECG Display"},"ECG Trail Life":{value:65,type:"range",min:5,max:200,step:1,label:"Trail Life (%)",section:"ECG Display"},"ECG Overlap":{value:15,type:"range",min:0,max:80,step:1,label:"Overlap (%)",section:"ECG Display"},"ECG Trace Color":{value:"#00ff6a",type:"color",label:"Trace Color",section:"ECG Display"},"ECG Grid Size":{value:100,type:"range",min:20,max:160,step:2,label:"Grid Size",section:"ECG Grid"},"ECG Horizontal Padding":{value:2,type:"range",min:0,max:20,step:1,label:"Horizontal Padding (%)",section:"ECG Grid"},"ECG Vertical Padding":{value:2,type:"range",min:0,max:20,step:1,label:"Vertical Padding (%)",section:"ECG Grid"},"ECG Show Outer Box":{value:!0,type:"checkbox",label:"Show Outer Box",section:"ECG Grid"},"ECG Show Grid Lines":{value:!0,type:"checkbox",label:"Show Grid Lines",section:"ECG Grid"},"ECG Show Background":{value:!0,type:"checkbox",label:"Show Background",section:"ECG Grid"},"Internal: ECG Sample Resolution":3200,"Internal: ECG Heart Rate":85,"Internal: ECG Show Grid":!0,"Internal: ECG Grid Color Major":"#00ff6a","Internal: ECG Grid Color Panel":"#00ff6a","Internal: ECG Grid Gap Percent":0};f("config",e,{onChange:(n,a,r)=>{if(t)switch(n){case"ECG Trace Width":t.cfg.lineWidth=a;break;case"ECG Head Size":t.cfg.headDotRadius=a;break;case"ECG Trail Life":t.cfg.trailLifePercent=a;break;case"ECG Overlap":t.cfg.overlapPercent=a;break;case"ECG Trace Color":t.cfg.colorCore=h(a,.95),t._colorCore=new Float32Array(t.cfg.colorCore);break}["ECG Grid Size","ECG Horizontal Padding","ECG Vertical Padding","ECG Show Outer Box","ECG Show Grid Lines","ECG Show Background"].includes(n)&&G()}});const i=document.getElementById("single-grid-canvas"),l=document.getElementById("single-trace-canvas"),C=document.getElementById("single-bpm"),E=document.getElementById("single-beats"),d=document.getElementById("cfg-hr"),m=document.getElementById("val-hr");let t=null,g=null,s=null;function G(){if(!e["Internal: ECG Show Grid"]){const n=i.getContext("2d");if(n){const a=i.parentElement,r=a?a.getBoundingClientRect():null,o=r?r.width:i.clientWidth,c=r?r.height:i.clientHeight;n.clearRect(0,0,o,c)}return}w(i,{rows:1,cols:1,gridSize:e["ECG Grid Size"].value,gridColorMajor:e["Internal: ECG Grid Color Major"],gridColorPanel:e["Internal: ECG Grid Color Panel"],showGridOuterBox:e["ECG Show Outer Box"].value,showGridLines:e["ECG Show Grid Lines"].value,showGridBackground:e["ECG Show Background"].value,gridGapPercent:e["Internal: ECG Grid Gap Percent"],viewportHorizontalPadding:e["ECG Horizontal Padding"].value/100,viewportVerticalPadding:e["ECG Vertical Padding"].value/100})}function H(){S({sampleResolution:e["Internal: ECG Sample Resolution"]}).then(()=>{requestAnimationFrame(()=>{const a=l.parentElement.getBoundingClientRect(),r={rows:1,cols:1,heartRateMode:"manual",overlapPercent:e["ECG Overlap"].value,trailLifePercent:e["ECG Trail Life"].value,lineWidth:e["ECG Trace Width"].value,colorCore:h(e["ECG Trace Color"].value,.95),gridSize:e["ECG Grid Size"].value,viewportHorizontalPadding:e["ECG Horizontal Padding"].value/100,viewportVerticalPadding:e["ECG Vertical Padding"].value/100,manualHeartRate:e["Internal: ECG Heart Rate"],renderWidth:a.width,renderHeight:a.height};t=new b(l,r),g=new x(t),g.start(),i.getContext("2d"),e["Internal: ECG Show Grid"]&&G(),s=t.traces[0],t.setHeartRateMode("manual"),t.setManualHeartRate(e["Internal: ECG Heart Rate"]),setTimeout(()=>{C.textContent=Math.round(e["Internal: ECG Heart Rate"]),m.textContent=e["Internal: ECG Heart Rate"],E.textContent="0"},50);let o=0;(function c(u){if(u-o>200&&s){if(o=u,t.cfg.heartRateMode!=="manual"){const p=t.getCurrentHeartRate();C.textContent=Math.round(p)}E.textContent=s.beatCount}requestAnimationFrame(c)})(performance.now()),R()})})}function R(){let n;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{y()},100)})}function y(){if(!t||!l)return;const a=l.parentElement.getBoundingClientRect();t.updateDimensions(a.width,a.height),e["Internal: ECG Show Grid"]&&G(),t.resize&&t.resize()}function I(){d&&d.addEventListener("input",()=>{const n=+d.value;t&&(t.setManualHeartRate(n),t.setHeartRateMode("manual")),m.textContent=n,C.textContent=n})}I();H();v({title:"Single ECG Configuration"});
